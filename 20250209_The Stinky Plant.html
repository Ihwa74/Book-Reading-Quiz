<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reading Club: The Stinky Plant Quiz</title>
    <style>
        :root {
            --primary-green: #76b82a;
            --secondary-yellow: #fdf052;
            --light-bg: #f9fff0;
            --error-red: #ffebeb;
            --text-dark: #333;
        }

        body {
            font-family: 'Comic Sans MS', 'Chalkboard SE', 'Arial', sans-serif;
            background-color: var(--light-bg);
            color: var(--text-dark);
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 30px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            border: 5px solid var(--primary-green);
        }

        h1 {
            text-align: center;
            color: var(--primary-green);
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .quiz-section {
            margin-bottom: 40px;
            padding: 20px;
            border-radius: 20px;
            border: 2px dashed var(--primary-green);
        }

        h2 {
            background: var(--secondary-yellow);
            display: inline-block;
            padding: 5px 15px;
            border-radius: 10px;
            font-size: 1.5rem;
        }

        .question-block {
            margin-bottom: 25px;
            padding: 15px;
            border-radius: 15px;
            transition: background-color 0.3s;
        }

        .wrong-answer {
            background-color: var(--error-red);
        }

        .audio-btn {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.5rem;
            vertical-align: middle;
            margin-left: 10px;
        }

        .options label {
            display: block;
            margin: 10px 0;
            padding: 10px;
            background: #f0f0f0;
            border-radius: 10px;
            cursor: pointer;
        }

        .word-bank {
            background: #fff9c4;
            padding: 15px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 20px;
            font-weight: bold;
            border: 2px solid #fbc02d;
        }

        input[type="text"] {
            padding: 8px;
            border: 2px solid #ccc;
            border-radius: 8px;
            font-size: 1rem;
            width: 150px;
        }

        .feedback {
            font-weight: bold;
            margin-top: 5px;
            display: none;
        }

        .correct-text { color: green; }
        .incorrect-text { color: red; }

        .correct-answer-display {
            display: none;
            font-size: 0.9rem;
            color: #555;
            margin-top: 5px;
            font-style: italic;
        }

        #submit-btn {
            display: block;
            width: 100%;
            padding: 20px;
            background: var(--primary-green);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.5rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 5px 0 #5a8d20;
        }

        #submit-btn:active {
            transform: translateY(3px);
            box-shadow: 0 2px 0 #5a8d20;
        }

        #result-area {
            text-align: center;
            margin-top: 30px;
            font-size: 2rem;
            font-weight: bold;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>ðŸŒ¿ The Stinky Plant Quiz ðŸŒ¿</h1>

    <div class="quiz-section">
        <h2>Part 1: Multiple Choice (4 Questions)</h2>
        
        <div class="question-block" id="q1">
            <p>1. Where were the children at the beginning of the story? <button class="audio-btn" onclick="speak('Where were the children at the beginning of the story?')">ðŸ”Š</button></p>
            <div class="options">
                <label><input type="radio" name="q1" value="A"> A. In the kitchen</label>
                <label><input type="radio" name="q1" value="B"> B. In the garden</label>
                <label><input type="radio" name="q1" value="C"> C. In the park</label>
            </div>
            <div class="feedback"></div>
            <div class="correct-answer-display">Correct Answer: B. In the garden</div>
        </div>

        <div class="question-block" id="q2">
            <p>2. What did the magic key do in Biff's room? <button class="audio-btn" onclick="speak('What did the magic key do in Biffs room?')">ðŸ”Š</button></p>
            <div class="options">
                <label><input type="radio" name="q2" value="A"> A. It started to glow</label>
                <label><input type="radio" name="q2" value="B"> B. It started to ring</label>
                <label><input type="radio" name="q2" value="C"> C. It turned green</label>
            </div>
            <div class="feedback"></div>
            <div class="correct-answer-display">Correct Answer: A. It started to glow</div>
        </div>

        <div class="question-block" id="q3">
            <p>3. Why couldn't the botanist smell the flower? <button class="audio-btn" onclick="speak('Why couldnâ€™t the botanist smell the flower?')">ðŸ”Š</button></p>
            <div class="options">
                <label><input type="radio" name="q3" value="A"> A. He was wearing a mask</label>
                <label><input type="radio" name="q3" value="B"> B. The flower was too far</label>
                <label><input type="radio" name="q3" value="C"> C. He had a bad cold</label>
            </div>
            <div class="feedback"></div>
            <div class="correct-answer-display">Correct Answer: C. He had a bad cold</div>
        </div>

        <div class="question-block" id="q4">
            <p>4. What did Biff say the stinky plant smelled like? <button class="audio-btn" onclick="speak('What did Biff say the stinky plant smelled like?')">ðŸ”Š</button></p>
            <div class="options">
                <label><input type="radio" name="q4" value="A"> A. Old cheese</label>
                <label><input type="radio" name="q4" value="B"> B. Rotten fish</label>
                <label><input type="radio" name="q4" value="C"> C. Dirty socks</label>
            </div>
            <div class="feedback"></div>
            <div class="correct-answer-display">Correct Answer: B. Rotten fish</div>
        </div>
    </div>

    <div class="quiz-section">
        <h2>Part 2: Word Bank (3 Questions)</h2>
        <div class="word-bank">
            Word Bank: botanist | insects | stinky | sweet | garden
        </div>
        
        <div class="question-block" id="q5">
            <p>5. Mum said the flower in the garden smells so <input type="text" id="q5-input">. <button class="audio-btn" onclick="speak('Mum said the flower in the garden smells so...')">ðŸ”Š</button></p>
            <div class="feedback"></div>
            <div class="correct-answer-display">Correct Answer: sweet</div>
        </div>

        <div class="question-block" id="q6">
            <p>6. The <input type="text" id="q6-input"> collects plants in the rainforest. <button class="audio-btn" onclick="speak('The blank collects plants in the rainforest.')">ðŸ”Š</button></p>
            <div class="feedback"></div>
            <div class="correct-answer-display">Correct Answer: botanist</div>
        </div>

        <div class="question-block" id="q7">
            <p>7. Wilf said, "I smell something, and it is <input type="text" id="q7-input">!" <button class="audio-btn" onclick="speak('Wilf said, I smell something, and it is blank!')">ðŸ”Š</button></p>
            <div class="feedback"></div>
            <div class="correct-answer-display">Correct Answer: stinky</div>
        </div>
    </div>

    <div class="quiz-section">
        <h2>Part 3: Short Answer (2 Questions)</h2>
        
        <div class="question-block" id="q8">
            <p>8. What was the botanist sitting on when the children met him? <button class="audio-btn" onclick="speak('What was the botanist sitting on when the children met him?')">ðŸ”Š</button></p>
            <input type="text" id="q8-input" style="width: 90%;">
            <div class="feedback"></div>
            <div class="correct-answer-display">Example Answer: He was sitting on a tree trunk.</div>
        </div>

        <div class="question-block" id="q9">
            <p>9. What did the children do to help the botanist find the flower? <button class="audio-btn" onclick="speak('What did the children do to help the botanist find the flower?')">ðŸ”Š</button></p>
            <input type="text" id="q9-input" style="width: 90%;">
            <div class="feedback"></div>
            <div class="correct-answer-display">Example Answer: They began to sniff to find the smell.</div>
        </div>
    </div>

    <div class="quiz-section">
        <h2>Part 4: Read Aloud (1 Question)</h2>
        <div class="question-block" id="q10">
            <p>10. Please read this sentence aloud: <br><br><strong>"What a fantastic flower!" said the botanist. "What a pong!" said Wilf.</strong></p>
            <button id="listen-example" onclick="speak('What a fantastic flower! said the botanist. What a pong! said Wilf.')" style="padding: 10px 20px; border-radius: 10px; cursor: pointer;">Play Example ðŸ”Š</button>
            <p><small>(Self-check: Did you read it clearly? Click the button below to finish!)</small></p>
            <div class="feedback"></div>
            <div class="correct-answer-display">Great job reading!</div>
        </div>
    </div>

    <button id="submit-btn" onclick="checkAnswers()">Submit My Quiz! ðŸš€</button>

    <div id="result-area"></div>
</div>

<script>
    function speak(text) {
        const msg = new SpeechSynthesisUtterance();
        msg.text = text;
        msg.volume = 1;
        msg.rate = 0.85;
        msg.pitch = 1.1;
        msg.lang = 'en-US';
        
        // Try to find a nice female voice
        const voices = window.speechSynthesis.getVoices();
        const preferredVoice = voices.find(v => v.name.includes('Google US English') || v.name.includes('Natural') || v.name.includes('Zira'));
        if (preferredVoice) msg.voice = preferredVoice;

        window.speechSynthesis.cancel(); // Stop current speech
        window.speechSynthesis.speak(msg);
    }

    // Pre-load voices
    window.speechSynthesis.onvoiceschanged = function() {
        window.speechSynthesis.getVoices();
    };

    function checkAnswers() {
        let score = 0;
        const total = 10;

        // Answers Key
        const answers = {
            q1: 'B',
            q2: 'A',
            q3: 'C',
            q4: 'B',
            q5: 'sweet',
            q6: 'botanist',
            q7: 'stinky'
        };

        // Reset display
        document.querySelectorAll('.question-block').forEach(block => block.classList.remove('wrong-answer'));
        document.querySelectorAll('.feedback').forEach(f => f.style.display = 'block');
        document.querySelectorAll('.correct-answer-display').forEach(d => d.style.display = 'block');

        // Part 1: Multiple Choice
        for(let i=1; i<=4; i++) {
            const selected = document.querySelector(`input[name="q${i}"]:checked`);
            const feedback = document.querySelector(`#q${i} .feedback`);
            if(selected && selected.value === answers[`q${i}`]) {
                score++;
                feedback.innerHTML = "âœ… Correct";
                feedback.className = "feedback correct-text";
            } else {
                feedback.innerHTML = "âŒ Incorrect";
                feedback.className = "feedback incorrect-text";
                document.getElementById(`q${i}`).classList.add('wrong-answer');
            }
        }

        // Part 2: Fill in the blank
        for(let i=5; i<=7; i++) {
            const val = document.getElementById(`q${i}-input`).value.trim().toLowerCase();
            const feedback = document.querySelector(`#q${i} .feedback`);
            if(val === answers[`q${i}`]) {
                score++;
                feedback.innerHTML = "âœ… Correct";
                feedback.className = "feedback correct-text";
            } else {
                feedback.innerHTML = "âŒ Incorrect";
                feedback.className = "feedback incorrect-text";
                document.getElementById(`q${i}`).classList.add('wrong-answer');
            }
        }

        // Part 3: Short Answer (Manual count as correct if not empty)
        for(let i=8; i<=9; i++) {
            const val = document.getElementById(`q${i}-input`).value.trim();
            const feedback = document.querySelector(`#q${i} .feedback`);
            if(val.length > 5) {
                score++;
                feedback.innerHTML = "âœ… Completed";
                feedback.className = "feedback correct-text";
            } else {
                feedback.innerHTML = "âŒ Please write more!";
                feedback.className = "feedback incorrect-text";
                document.getElementById(`q${i}`).classList.add('wrong-answer');
            }
        }

        // Part 4: Reading (Auto correct for interaction)
        score++;
        document.querySelector(`#q10 .feedback`).innerHTML = "âœ… Thank you for reading!";
        document.querySelector(`#q10 .feedback`).className = "feedback correct-text";

        // Display Total Score
        const resultArea = document.getElementById('result-area');
        let message = "";
        if(score >= 8) message = "Amazing! You are a Super Explorer! ðŸŒŸ";
        else if(score >= 5) message = "Good job! Keep reading! ðŸ“š";
        else message = "Let's try reading the story again! ðŸ˜Š";

        resultArea.innerHTML = `Score: ${score}/${total}<br><span style="font-size: 1.5rem;">${message}</span>`;
        
        // Scroll to bottom
        window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
    }
</script>

</body>
</html>